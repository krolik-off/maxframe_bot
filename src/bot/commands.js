/**
 * –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞
 * @param {import('@maxhub/max-bot-api').Bot} bot
 */
export function registerCommands(bot) {
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
    bot.api.setMyCommands([
        {
            name: 'start',
            description: '–ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º',
        },
    ]);

    // –ö–æ–º–∞–Ω–¥–∞ start
    bot.command('start', async (ctx) => {
        const sender = ctx.update.message?.sender;
        const name = sender?.first_name || '';

        const welcomeMessage = `üëã –ü—Ä–∏–≤–µ—Ç${name ? ', ' + name : ''}!

–Ø –±–æ—Ç –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∫–∞–Ω–∞–ª–æ–≤ –æ—Ç MAXFRAME.RU

üìä –ß—Ç–æ —è —É–º–µ—é:
–ü–æ–∫–∞–∑—ã–≤–∞—é –ø–æ–¥—Ä–æ–±–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ª—é–±–æ–≥–æ –∫–∞–Ω–∞–ª–∞ ‚Äî –ø–æ–¥–ø–∏—Å—á–∏–∫–∏, –æ—Ö–≤–∞—Ç—ã, –¥–∏–Ω–∞–º–∏–∫–∞ —Ä–æ—Å—Ç–∞, —Ä–µ–∫–ª–∞–º–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.

üöÄ –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è:
–ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—à–ª–∏ –º–Ω–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞, –∏ —è –ø–æ–∫–∞–∂—É –µ–≥–æ –ø–æ–ª–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.

üìà –ß—Ç–æ —Ç—ã –ø–æ–ª—É—á–∏—à—å:
‚îú –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –∏ –¥–∏–Ω–∞–º–∏–∫—É
‚îú –û—Ö–≤–∞—Ç—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–π (24—á / 48—á)
‚îú –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç–∏ (ER)
‚îú –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è—Ö
‚îî –ì—Ä–∞—Ñ–∏–∫ —Ä–æ—Å—Ç–∞ –∫–∞–Ω–∞–ª–∞

üîó –ü–æ–¥—Ä–æ–±–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞: maxframe.ru`;

        try {
            return await ctx.reply(welcomeMessage);
        } catch (e) {
            console.error('[Command] Failed to reply /start:', e.message);
        }
    });
}
